(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(244)),r=f(n(247)),i="/Users/levan/xizhi_teacher_front_v3.0/src/Pages/StudentManage/index.js",s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(245),n(518);var o=f(n(1));n(1218);var l=f(n(1137)),u=n(170),c=f(n(101)),d=n(243);function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.enterSearch=function(t){13===t.keyCode&&e.search()},e.getData=function(t){(0,u.getStudents)(t).then(function(t){e.isUnmounted||e.setState({students:t})}).catch(function(t){e.setState({students:null})})},e.handleInputChange=function(t){e.setState({search_text:t.target.value})},e.search=function(){var t=e.state.search_text;e.getData({name:t})},e.tableChange=function(t,n,a){var r={page:t.current},i=(0,d.isObjectEmpty)(a);i||"descend"!==a.order?i||"ascend"!==a.order||(r.ordering=a.field):r.ordering="-"+a.field,e.getData(r)},e.state={students:null,search_text:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"componentDidMount",value:function(){this.getData(),addEventListener("keyup",this.enterSearch)}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0,removeEventListener("keyup",this.enterSearch)}},{key:"render",value:function(){var e=this.state.students,t=c.default.location.pathname,n=(0,d.getTipText)("4");return o.default.createElement("div",{className:"studentmanage",__source:{fileName:i,lineNumber:77}},o.default.createElement("div",{className:"s-title",__source:{fileName:i,lineNumber:78}},"学生管理"),o.default.createElement("div",{className:"s-search box",__source:{fileName:i,lineNumber:79}},o.default.createElement("span",{className:"ss-name",__source:{fileName:i,lineNumber:80}},"学生列表",o.default.createElement(r.default,{title:n,__source:{fileName:i,lineNumber:80}},o.default.createElement("span",{className:"hint",__source:{fileName:i,lineNumber:81}},"?"))),o.default.createElement("span",{className:"ss-right",__source:{fileName:i,lineNumber:83}},o.default.createElement("input",{type:"text",className:"ssr-input",placeholder:"请输入学生姓名",onChange:this.handleInputChange,__source:{fileName:i,lineNumber:84}}),o.default.createElement("span",{className:"ssr-btn",onClick:this.search,__source:{fileName:i,lineNumber:87}},o.default.createElement("svg",{className:"ssrb-icon",__source:{fileName:i,lineNumber:88}},o.default.createElement("use",{xlinkHref:"#search",__source:{fileName:i,lineNumber:89}})),o.default.createElement("span",{className:"ssrb-text",__source:{fileName:i,lineNumber:91}},"搜"),o.default.createElement("span",{className:"ssrb-text",__source:{fileName:i,lineNumber:92}},"索")))),o.default.createElement("div",{className:"box s-table",__source:{fileName:i,lineNumber:96}},o.default.createElement(a.default,{size:"large",spinning:!e,__source:{fileName:i,lineNumber:97}},o.default.createElement(l.default,{list:e,pathname:t,deleteRankChange:!0,deleteCorrectRank:!0,showSquad:!0,onChange:this.tableChange,__source:{fileName:i,lineNumber:98}}))))}}]),t}();t.default=m},1114:function(e,t,n){var a=n(1126);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},1126:function(e,t,n){(e.exports=n(29)(!1)).push([e.i,"#components-table-demo-resizable-column .react-resizable {\n  position: relative; }\n\n#components-table-demo-resizable-column .react-resizable-handle {\n  position: absolute;\n  width: .69vw;\n  height: 100%;\n  bottom: 0;\n  right: -.35vw;\n  cursor: col-resize; }\n\n.firstCell {\n  color: #666; }\n\n.tableGray {\n  color: #999; }\n\n.tableGreen {\n  color: #00D4BC; }\n\n.tableRed {\n  color: #F13A30; }\n",""])},1137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(1099)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s="/Users/levan/xizhi_teacher_front_v3.0/src/components/Table/studentTable.js";n(1100);var o=f(n(1)),l=n(1101);n(1114);var u=f(n(101)),c=n(243),d=n(1138);function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.onResize,n=e.width,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["onResize","width"]);return n?o.default.createElement(l.Resizable,{width:n,height:0,onResize:t,__source:{fileName:s,lineNumber:17}},o.default.createElement("th",i({},a,{__source:{fileName:s,lineNumber:18}}))):o.default.createElement("th",i({},a,{__source:{fileName:s,lineNumber:13}}))},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.components={header:{cell:m}},n.handleResize=function(e){return function(t,a){var r=a.size;n.setState(function(t){var n=t.columns,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n));return a[e]=i({},a[e],{width:r.width}),{columns:a}})}},n.state={list:[],pathname:"",headerstate:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.setList(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setList(e)}},{key:"setList",value:function(e){var t=e.list;if(t){e.exportStudentList&&e.exportStudentList(self);var n={data:[],page:t.page,page_num:t.page_num};n.data=t.data.map(function(e){var t=0===e.question_num?"0%":(e.correct_question_num/e.question_num*100).toFixed(0)+"%",n=0;return n=e.total_homework_num?0===e.total_homework_num?"0%":(e.finished_num/e.total_homework_num*100).toFixed(0)+"%":0===e.question_num?"0%":(e.finished_num/e.question_num*100).toFixed(0)+"%",{id:e.student.id?e.student.id:e.student.student_id?e.student.student_id:"",name:e.student.name,phone:e.phone,finish_rate:n,accuracy:t,question_num:e.question_num,correct_prob_index:e.correct_prob_index,raise_value:e.raise_value,do_question_time:(0,c.seconds2time)(e.do_question_time),teach_time:(0,c.seconds2time)(e.teach_time),last_learned:e.last_learned?(0,c.getFormateDate)(1e3*e.last_learned):"无",squad_name:e.student?e.student.squad.name:"",key:e.student.id?e.student.id:e.student.student_id?e.student.student_id:""}});var a={columns:[{title:"学生名称",dataIndex:"name",render:function(e){return o.default.createElement("span",{className:"firstCell",__source:{fileName:s,lineNumber:85}},e)},key:"name",sorter:!0},{title:"手机号",dataIndex:"phone",key:"phone",sorter:!0},{title:"作业完成率",dataIndex:"finish_rate",key:"finish_rate",sorter:!0},{title:"正确率",dataIndex:"accuracy",key:"accuracy",sorter:!0},{title:"做题数",dataIndex:"question_num",key:"question_num",sorter:!0},{title:"正确率排名",dataIndex:"correct_prob_index",key:"correct_prob_index",sorter:!0},{title:"排名变化",dataIndex:"raise_value",render:function(e){return o.default.createElement("span",{className:0==e?"tableGray":parseInt(e)>0?"tableGreen":"tableRed",__source:{fileName:s,lineNumber:117}},e)},key:"raise_value",sorter:!0},{title:"做题时长",dataIndex:"do_question_time",key:"dataIndex",sorter:!0},{title:"学习时长",dataIndex:"teach_time",key:"teach_time",sorter:!0},{title:"上次学习时间",dataIndex:"last_learned",key:"last_learned",sorter:!0},{title:"操作",key:"action",render:function(t){return o.default.createElement("a",{href:"javascript:;",onClick:function(){return u.default.push(e.pathname+"StudentStat/student_id="+t.id+"/")},__source:{fileName:s,lineNumber:140}},"查看详情")}}]};e.deleteRankChange&&(a.columns=a.columns.filter(function(e){return"排名变化"!==e.title})),e.deleteCorrectRank&&(a.columns=a.columns.filter(function(e){return"正确率排名"!==e.title})),e.showSquad&&a.columns.splice(1,0,{title:"班级",dataIndex:"squad_name",key:"squad_name",sorter:!0}),this.setState({list:n,headerstate:a})}}},{key:"exportList",value:function(){var e={data:this.state.list.data,fileName:"学生列表",columns:{title:["学生名称","作业完成率","正确率","做题数","正确率排名","排名变化","做题时长","学习时长","上次学习时间"],key:["name","finish_rate","accuracy","question_num","correct_prob_index","raise_value","do_question_time","teach_time","last_learned"]}};d.JSonToCSV.setDataConver(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.list,r=t.headerstate,l=this.props.onChange,u=r&&r.columns.map(function(t,n){return i({},t,{align:"center",onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(n)}}})});return o.default.createElement(a.default,{bordered:!0,components:this.components,columns:u,dataSource:n.data,pagination:{position:"bottom",size:"small",defaultCurrent:n.page,pageSize:15,total:15*n.page_num},onChange:l,__source:{fileName:s,lineNumber:212}})}}]),t}();t.default=h},1138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.JSonToCSV={setDataConver:function(e){var t,n=e.data,a=void 0===e.showLabel||e.showLabel,r=(e.fileName||"UserExport")+".csv",i=e.columns||{title:[],key:[],formatter:void 0},s="",o="";if(a=void 0===a||a){if(i.title.length)i.title.map(function(e){s+=e+","});else for(t in n[0])s+=t+",";s=s.slice(0,-1),o+=s+"\r\n"}n.map(function(e){if(s="",i.key.length)i.key.map(function(t){s+='"'+("function"==typeof i.formatter&&i.formatter(t,e[t])||e[t])+'",'});else for(t in e)s+='"'+("function"==typeof i.formatter&&i.formatter(t,e[t])||e[t])+'",';s.slice(0,s.length-1),o+=s+"\r\n"}),o&&this.SaveAs(r,o)},SaveAs:function(e,t){var n=this.browser();if(!n.edge||!n.ie){var a=document.createElement("a");a.id="linkDwnldLink",a.href=this.getDownloadUrl(t),document.body.appendChild(a);var r=document.getElementById("linkDwnldLink");r.setAttribute("download",e),r.click(),document.body.removeChild(r)}},getDownloadUrl:function(e){if(window.Blob&&window.URL&&window.URL.createObjectURL){e=new Blob(["\ufeff"+e],{type:"text/csv"});return URL.createObjectURL(e)}},browser:function(){var e,t={},n=navigator.userAgent.toLowerCase();return(e=-1!==n.indexOf("edge")?t.edge="edge":n.match(/rv:([\d.]+)\) like gecko/))?t.ie=e[1]:(e=n.match(/msie ([\d.]+)/))?t.ie=e[1]:(e=n.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=n.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=n.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=n.match(/version\/([\d.]+).*safari/))&&(t.safari=e[1]),t}},t.deepCopyObject=function(e){return JSON.parse(JSON.stringify(e))}},1218:function(e,t,n){var a=n(1219);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(30)(a,r);a.locals&&(e.exports=a.locals)},1219:function(e,t,n){(e.exports=n(29)(!1)).push([e.i,".studentmanage {\n  background: #fafafa;\n  padding: 0 2.08vw;\n  padding-bottom: 8.4vw; }\n  .studentmanage .s-title {\n    padding: 1.39vw 0;\n    font-size: 1.25vw;\n    color: #999; }\n  .studentmanage .s-search {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 2.08vw;\n    height: 5.56vw;\n    margin-bottom: 1.39vw; }\n    .studentmanage .s-search .ss-name {\n      font-weight: 500;\n      font-size: 1.25vw;\n      color: #666; }\n    .studentmanage .s-search .ss-right {\n      display: flex;\n      align-items: center; }\n      .studentmanage .s-search .ss-right .ssr-input {\n        margin-right: 1.39vw;\n        width: 19.79vw;\n        height: 3.47vw;\n        background: #fafafa;\n        border-radius: 4px;\n        border: 2px solid whitesmoke;\n        outline: none;\n        padding: 0 .69vw;\n        transition: all .3s; }\n      .studentmanage .s-search .ss-right .ssr-input:hover {\n        border-color: #00D4BC; }\n      .studentmanage .s-search .ss-right .ssr-btn {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 11.11vw;\n        height: 3.47vw;\n        padding: 0 2.08vw;\n        border-radius: 4px;\n        background: #00D4BC;\n        transition: all .5;\n        cursor: pointer; }\n        .studentmanage .s-search .ss-right .ssr-btn .ssrb-icon {\n          width: 1.32vw;\n          height: 1.32vw;\n          fill: #fff;\n          transition: transform 0.5s cubic-bezier(0.2, 0.6, 0.3, 1), -webkit-transform 0.5s cubic-bezier(0.2, 0.6, 0.3, 1); }\n        .studentmanage .s-search .ss-right .ssr-btn .ssrb-text {\n          font-size: 1.11vw;\n          font-weight: 500;\n          color: #fff; }\n      .studentmanage .s-search .ss-right .ssr-btn:hover .ssrb-icon {\n        transform: scale(1.2) translateZ(0);\n        -webkit-transform: scale(1.2) translateZ(0); }\n      .studentmanage .s-search .ss-right .ssr-btn:hover {\n        background: #23e0ca; }\n  .studentmanage .s-table {\n    width: 100%;\n    padding: 2.08vw; }\n",""])}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGFnZXMvU3R1ZGVudE1hbmFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UYWJsZS9pbmRleC5zY3NzP2VhYTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFibGUvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UYWJsZS9zdHVkZW50VGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0pzb25Ub0NTVi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUGFnZXMvU3R1ZGVudE1hbmFnZS9pbmRleC5zY3NzP2Q1ZDQiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhZ2VzL1N0dWRlbnRNYW5hZ2UvaW5kZXguc2NzcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX3VybE1hcCIsIl91dGlsIiwiU3R1ZGVudE1hbmFnZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJjYWxsIiwiZW50ZXJTZWFyY2giLCJlIiwia2V5Q29kZSIsInNlYXJjaCIsImdldERhdGEiLCJwYXJhbXMiLCJnZXRTdHVkZW50cyIsInRoZW4iLCJyZXMiLCJpc1VubW91bnRlZCIsInNldFN0YXRlIiwic3R1ZGVudHMiLCJjYXRjaCIsImVyciIsImhhbmRsZUlucHV0Q2hhbmdlIiwic2VhcmNoX3RleHQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInN0YXRlIiwibmFtZSIsInRhYmxlQ2hhbmdlIiwicGFnaW5hdGlvbiIsImZpbHRlcnMiLCJzb3J0ZXIiLCJwYXJhbSIsInBhZ2UiLCJjdXJyZW50IiwiaXNFbXB0eSIsImlzT2JqZWN0RW1wdHkiLCJvcmRlciIsIm9yZGVyaW5nIiwiZmllbGQiLCJSZWFjdCIsIkNvbXBvbmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGF0aG5hbWUiLCJoaXN0b3J5IiwibG9jYXRpb24iLCJ0aXBUZXh0IiwiZ2V0VGlwVGV4dCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsIl9fc291cmNlIiwiZmlsZU5hbWUiLCJfanN4RmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiX3Rvb2x0aXAyIiwidGl0bGUiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsIm9uQ2xpY2siLCJ4bGlua0hyZWYiLCJfc3BpbjIiLCJzaXplIiwic3Bpbm5pbmciLCJfc3R1ZGVudFRhYmxlMiIsImxpc3QiLCJkZWxldGVSYW5rQ2hhbmdlIiwiZGVsZXRlQ29ycmVjdFJhbmsiLCJzaG93U3F1YWQiLCJjb250ZW50IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwidW5kZWZpbmVkIiwibG9jYWxzIiwiZXhwb3J0cyIsInB1c2giLCJfcmVhY3RSZXNpemFibGUiLCJfSnNvblRvQ1NWIiwiUmVzaXplYWJsZVRpdGxlIiwicHJvcHMiLCJvblJlc2l6ZSIsIndpZHRoIiwicmVzdFByb3BzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiUmVzaXphYmxlIiwiaGVpZ2h0IiwiX2V4dGVuZHMiLCJDdXN0b21UYWJsZSIsImNvbXBvbmVudHMiLCJoZWFkZXIiLCJjZWxsIiwiaGFuZGxlUmVzaXplIiwiaW5kZXgiLCJfcmVmIiwiX3JlZjIiLCJjb2x1bW5zIiwibmV4dENvbHVtbnMiLCJoZWFkZXJzdGF0ZSIsInNldExpc3QiLCJuZXh0UHJvcHMiLCJleHBvcnRTdHVkZW50TGlzdCIsInNlbGYiLCJuZXdMaXN0IiwiZGF0YSIsInBhZ2VfbnVtIiwibWFwIiwiYWNjdXJhY3kiLCJxdWVzdGlvbl9udW0iLCJjb3JyZWN0X3F1ZXN0aW9uX251bSIsInRvRml4ZWQiLCJmaW5pc2hfcmF0ZSIsInRvdGFsX2hvbWV3b3JrX251bSIsImZpbmlzaGVkX251bSIsImlkIiwic3R1ZGVudCIsInN0dWRlbnRfaWQiLCJwaG9uZSIsImNvcnJlY3RfcHJvYl9pbmRleCIsInJhaXNlX3ZhbHVlIiwiZG9fcXVlc3Rpb25fdGltZSIsInNlY29uZHMydGltZSIsInRlYWNoX3RpbWUiLCJsYXN0X2xlYXJuZWQiLCJnZXRGb3JtYXRlRGF0ZSIsInNxdWFkX25hbWUiLCJzcXVhZCIsImtleSIsImhzRGF0YSIsImRhdGFJbmRleCIsInJlbmRlciIsInRleHQiLCJwYXJzZUludCIsInJlY29yZCIsImhyZWYiLCJmaWx0ZXIiLCJzcGxpY2UiLCJ0YWJsZV9pbmZvIiwiSlNvblRvQ1NWIiwic2V0RGF0YUNvbnZlciIsIl90aGlzMiIsIl9zdGF0ZSIsImNvbCIsImFsaWduIiwib25IZWFkZXJDZWxsIiwiY29sdW1uIiwiX3RhYmxlMiIsImJvcmRlcmVkIiwiZGF0YVNvdXJjZSIsInBvc2l0aW9uIiwiZGVmYXVsdEN1cnJlbnQiLCJwYWdlU2l6ZSIsInRvdGFsIiwib2JqIiwiU2hvd0xhYmVsIiwiZm9ybWF0dGVyIiwicm93IiwiQ1NWIiwibGVuZ3RoIiwibiIsInNsaWNlIiwibSIsIlNhdmVBcyIsImNzdkRhdGEiLCJidyIsImJyb3dzZXIiLCJhbGluayIsImRvY3VtZW50IiwiZ2V0RG93bmxvYWRVcmwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJsaW5rRG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRBdHRyaWJ1dGUiLCJjbGljayIsInJlbW92ZUNoaWxkIiwid2luZG93IiwiQmxvYiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInMiLCJTeXMiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImVkZ2UiLCJtYXRjaCIsImllIiwiZmlyZWZveCIsImNocm9tZSIsIm9wZXJhIiwic2FmYXJpIiwiZGVlcENvcHlPYmplY3QiLCJzb3VyY2UiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJ1ZkFBQSxRQUFBQSxFQUFBLElBQ0FBLEVBQUEsTUFDQSxRQUFBQSxFQUFBLE9BQ0FDLEVBQUFELEVBQUEsU0FDQUEsRUFBQSxNQUVBRSxFQUFBRixFQUFBLDREQUVxQkcsY0FDakIsU0FBQUEsaUdBQWNDLENBQUFDLEtBQUFGLEdBQUEsSUFBQUcsbUtBQUFDLENBQUFGLE1BQUFGLEVBQUFLLFdBQUFDLE9BQUFDLGVBQUFQLElBQUFRLEtBQUFOLE9BQUEsT0FBQUMsRUFrQmRNLFlBQWMsU0FBQUMsR0FDUSxLQUFkQSxFQUFFQyxTQUNGUixFQUFLUyxVQXBCQ1QsRUF3QmRVLFFBQVUsU0FBQ0MsSUFDUCxFQUFBaEIsRUFBQWlCLGFBQVlELEdBQVFFLEtBQUssU0FBQUMsR0FDakJkLEVBQUtlLGFBR1RmLEVBQUtnQixTQUFTLENBQ1ZDLFNBQVVILE1BRWZJLE1BQU0sU0FBQUMsR0FDTG5CLEVBQUtnQixTQUFTLENBQ1ZDLFNBQVUsVUFsQ1JqQixFQXVDZG9CLGtCQUFvQixTQUFDYixHQUNqQlAsRUFBS2dCLFNBQVMsQ0FDVkssWUFBYWQsRUFBRWUsT0FBT0MsU0F6Q2hCdkIsRUE2Q2RTLE9BQVMsV0FBTSxJQUNMWSxFQUFnQnJCLEVBQUt3QixNQUFyQkgsWUFDTnJCLEVBQUtVLFFBQVEsQ0FBQ2UsS0FBTUosS0EvQ1ZyQixFQWtEZDBCLFlBQWMsU0FBQ0MsRUFBWUMsRUFBU0MsR0FDaEMsSUFBSUMsRUFBUSxDQUFDQyxLQUFNSixFQUFXSyxTQUMxQkMsR0FBVSxFQUFBckMsRUFBQXNDLGVBQWNMLEdBQ3ZCSSxHQUE0QixZQUFqQkosRUFBT00sTUFFWkYsR0FBNEIsV0FBakJKLEVBQU9NLFFBQ3pCTCxFQUFNTSxTQUFXUCxFQUFPUSxPQUZ4QlAsRUFBTU0sU0FBVyxJQUFNUCxFQUFPUSxNQUlsQ3JDLEVBQUtVLFFBQVFvQixJQXhEYjlCLEVBQUt3QixNQUFRLENBQ1RQLFNBQVUsS0FDVkksWUFBYSxJQUpQckIscVVBRHlCc0MsVUFBTUMsMERBVXpDeEMsS0FBS1csVUFDTDhCLGlCQUFpQixRQUFTekMsS0FBS08sNERBSS9CUCxLQUFLZ0IsYUFBYyxFQUNuQjBCLG9CQUFvQixRQUFTMUMsS0FBS08sOENBOEM3QixJQUNDVyxFQUFhbEIsS0FBS3lCLE1BQWxCUCxTQUNGeUIsRUFBV0MsVUFBUUMsU0FBU0YsU0FDNUJHLEdBQVUsRUFBQWpELEVBQUFrRCxZQUFXLEtBRXpCLE9BQ0lDLEVBQUFDLFFBQUFDLGNBQUEsT0FBS0MsVUFBVSxnQkFBZkMsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLEtBQ0lQLEVBQUFDLFFBQUFDLGNBQUEsT0FBS0MsVUFBVSxVQUFmQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsYUFDQVAsRUFBQUMsUUFBQUMsY0FBQSxPQUFLQyxVQUFVLGVBQWZDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxLQUNJUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsVUFBaEJDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxZQUE4QlAsRUFBQUMsUUFBQUMsY0FBQU0sRUFBQVAsUUFBQSxDQUFTUSxNQUFPWCxFQUFoQk0sU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLEtBQzFCUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsT0FBaEJDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxZQUVKUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsV0FBaEJDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxLQUNJUCxFQUFBQyxRQUFBQyxjQUFBLFNBQU9RLEtBQUssT0FBT1AsVUFBVSxZQUN6QlEsWUFBWSxVQUNaQyxTQUFVNUQsS0FBS3FCLGtCQUZuQitCLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxNQUdBUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsVUFBVVUsUUFBUzdELEtBQUtVLE9BQXhDMEMsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLEtBQ0lQLEVBQUFDLFFBQUFDLGNBQUEsT0FBS0MsVUFBVSxZQUFmQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsS0FDSVAsRUFBQUMsUUFBQUMsY0FBQSxPQUFLWSxVQUFVLFVBQWZWLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxPQUVKUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsWUFBaEJDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxVQUNBUCxFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQVUsWUFBaEJDLFNBQUEsQ0FBQUMsU0FBQUMsRUFBQUMsV0FBQSxhQUlaUCxFQUFBQyxRQUFBQyxjQUFBLE9BQUtDLFVBQVUsY0FBZkMsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLEtBQ0lQLEVBQUFDLFFBQUFDLGNBQUFhLEVBQUFkLFFBQUEsQ0FBTWUsS0FBSyxRQUFRQyxVQUFVL0MsRUFBN0JrQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsS0FDSVAsRUFBQUMsUUFBQUMsY0FBQ2dCLEVBQUFqQixRQUFELENBQU9rQixLQUFNakQsRUFDVHlCLFNBQVVBLEVBQ1Z5QixrQkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxXQUFBLEVBQ0FWLFNBQVU1RCxLQUFLMkIsWUFMbkJ5QixTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsNEJBekZIekQsd0JDUHJCLElBQUF5RSxFQUFjNUUsRUFBUSxNQUV0QixpQkFBQTRFLE1BQUEsRUFBNENDLEVBQUFDLEVBQVNGLEVBQUEsTUFPckQsSUFBQUcsRUFBQSxDQUFlQyxLQUFBLEVBRWZDLGVBUEFBLEVBUUFDLGdCQUFBQyxHQUVhbkYsRUFBUSxHQUFSQSxDQUE4RDRFLEVBQUFHLEdBRTNFSCxFQUFBUSxTQUFBUCxFQUFBUSxRQUFBVCxFQUFBUSwrQkNqQkFQLEVBQUFRLFFBQTJCckYsRUFBUSxHQUFSQSxFQUEwRCxJQUtyRnNGLEtBQUEsQ0FBY1QsRUFBQUMsRUFBUyw2WkFBMlosMGxCQ0xsYixRQUFBOUUsRUFBQSxJQUVBdUYsRUFBQXZGLEVBQUEsTUFDQUEsRUFBQSxNQUNBLFFBQUFBLEVBQUEsTUFDQUUsRUFBQUYsRUFBQSxLQUNBd0YsRUFBQXhGLEVBQUEseURBRUEsSUFBTXlGLEVBQWtCLFNBQUNDLEdBQVUsSUFDdkJDLEVBQWtDRCxFQUFsQ0MsU0FBVUMsRUFBd0JGLEVBQXhCRSxNQUFVQyx5SEFER0MsQ0FDV0osRUFEWCxzQkFHL0IsT0FBS0UsRUFLRHZDLEVBQUFDLFFBQUFDLGNBQUNnQyxFQUFBUSxVQUFELENBQVdILE1BQU9BLEVBQU9JLE9BQVEsRUFBR0wsU0FBVUEsRUFBOUNsQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsS0FDSVAsRUFBQUMsUUFBQUMsY0FBQSxLQUFBMEMsRUFBQSxHQUFRSixFQUFSLENBQUFwQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsUUFMR1AsRUFBQUMsUUFBQUMsY0FBQSxLQUFBMEMsRUFBQSxHQUFRSixFQUFSLENBQUFwQyxTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsUUFVVHNDLGNBQ0YsU0FBQUEsRUFBWVIsZ0dBQU90RixDQUFBQyxLQUFBNkYsR0FBQSxJQUFBNUYsbUtBQUFDLENBQUFGLE1BQUE2RixFQUFBMUYsV0FBQUMsT0FBQUMsZUFBQXdGLElBQUF2RixLQUFBTixLQUNUcUYsSUFEUyxPQUFBcEYsRUFrSm5CNkYsV0FBYSxDQUNUQyxPQUFRLENBQ0pDLEtBQU1aLElBcEpLbkYsRUF3Sm5CZ0csYUFBZSxTQUFBQyxHQUFBLE9BQVMsU0FBQzFGLEVBQUQyRixHQUFpQixJQUFYbkMsRUFBV21DLEVBQVhuQyxLQUMxQi9ELEVBQUtnQixTQUFTLFNBQUFtRixHQUFpQixJQUFkQyxFQUFjRCxFQUFkQyxRQUNYQyxtSUFBa0JELElBS3hCLE9BSkFDLEVBQVlKLEdBQVpOLEVBQUEsR0FDT1UsRUFBWUosR0FEbkIsQ0FFSVgsTUFBT3ZCLEVBQUt1QixRQUVULENBQUVjLFFBQVNDLE9BN0psQnJHLEVBQUt3QixNQUFRLENBQ1QwQyxLQUFNLEdBQ054QixTQUFVLEdBQ1Y0RCxZQUFhLE1BTEZ0RyxxVUFER3NDLFVBQU1DLDBEQVd4QnhDLEtBQUt3RyxRQUFReEcsS0FBS3FGLHlEQUdJb0IsR0FDdEJ6RyxLQUFLd0csUUFBUUMsbUNBR1RwQixHQUNKLElBQUlsQixFQUFPa0IsRUFBTWxCLEtBQ2pCLEdBQUtBLEVBQUwsQ0FJSWtCLEVBQU1xQixtQkFDTnJCLEVBQU1xQixrQkFBa0JDLE1BRzVCLElBQUlDLEVBQVUsQ0FDVkMsS0FBTSxHQUNON0UsS0FBTW1DLEVBQUtuQyxLQUNYOEUsU0FBVTNDLEVBQUsyQyxVQUVuQkYsRUFBUUMsS0FBTzFDLEVBQUswQyxLQUFLRSxJQUFJLFNBQUF2RyxHQUN6QixJQUFJd0csRUFBOEIsSUFBbkJ4RyxFQUFFeUcsYUFBcUIsTUFBUXpHLEVBQUUwRyxxQkFBdUIxRyxFQUFFeUcsYUFBZSxLQUFLRSxRQUFRLEdBQUssSUFDdEdDLEVBQWMsRUFNbEIsT0FKSUEsRUFEQTVHLEVBQUU2RyxtQkFDcUMsSUFBekI3RyxFQUFFNkcsbUJBQTJCLE1BQVE3RyxFQUFFOEcsYUFBZTlHLEVBQUU2RyxtQkFBcUIsS0FBS0YsUUFBUSxHQUFLLElBRTVFLElBQW5CM0csRUFBRXlHLGFBQXFCLE1BQVF6RyxFQUFFOEcsYUFBZTlHLEVBQUV5RyxhQUFlLEtBQUtFLFFBQVEsR0FBSyxJQUU5RixDQUNISSxHQUFJL0csRUFBRWdILFFBQVFELEdBQUsvRyxFQUFFZ0gsUUFBUUQsR0FBSy9HLEVBQUVnSCxRQUFRQyxXQUFhakgsRUFBRWdILFFBQVFDLFdBQWEsR0FDaEYvRixLQUFNbEIsRUFBRWdILFFBQVE5RixLQUNoQmdHLE1BQU9sSCxFQUFFa0gsTUFDVE4sWUFBYUEsRUFDYkosU0FBVUEsRUFDVkMsYUFBY3pHLEVBQUV5RyxhQUNoQlUsbUJBQW9CbkgsRUFBRW1ILG1CQUN0QkMsWUFBYXBILEVBQUVvSCxZQUNmQyxrQkFBa0IsRUFBQWhJLEVBQUFpSSxjQUFhdEgsRUFBRXFILGtCQUNqQ0UsWUFBWSxFQUFBbEksRUFBQWlJLGNBQWF0SCxFQUFFdUgsWUFDM0JDLGFBQWN4SCxFQUFFd0gsY0FBZSxFQUFBbkksRUFBQW9JLGdCQUFnQyxJQUFqQnpILEVBQUV3SCxjQUF1QixJQUN2RUUsV0FBWTFILEVBQUVnSCxRQUFVaEgsRUFBRWdILFFBQVFXLE1BQU16RyxLQUFPLEdBQy9DMEcsSUFBSzVILEVBQUVnSCxRQUFRRCxHQUFLL0csRUFBRWdILFFBQVFELEdBQUsvRyxFQUFFZ0gsUUFBUUMsV0FBYWpILEVBQUVnSCxRQUFRQyxXQUFhLE1BSXpGLElBQUlZLEVBQVMsQ0FDVGhDLFFBQVMsQ0FBQyxDQUNONUMsTUFBTyxPQUNQNkUsVUFBVyxPQUNYQyxPQUFRLFNBQUFDLEdBQUEsT0FBU3hGLEVBQUFDLFFBQUFDLGNBQUEsUUFBTUMsVUFBVSxZQUFoQkMsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLEtBQTZCaUYsSUFDOUNKLElBQUssT0FDTHRHLFFBQVEsR0FDVCxDQUNDMkIsTUFBTyxNQUNQNkUsVUFBVyxRQUNYRixJQUFLLFFBQ0x0RyxRQUFRLEdBQ1QsQ0FDQzJCLE1BQU8sUUFDUDZFLFVBQVcsY0FDWEYsSUFBSyxjQUNMdEcsUUFBUSxHQUNULENBQ0MyQixNQUFPLE1BQ1A2RSxVQUFXLFdBQ1hGLElBQUssV0FDTHRHLFFBQVEsR0FDVCxDQUNDMkIsTUFBTyxNQUNQNkUsVUFBVyxlQUNYRixJQUFLLGVBQ0x0RyxRQUFRLEdBQ1QsQ0FDQzJCLE1BQU8sUUFDUDZFLFVBQVcscUJBQ1hGLElBQUsscUJBQ0x0RyxRQUFRLEdBQ1QsQ0FDQzJCLE1BQU8sT0FDUDZFLFVBQVcsY0FDWEMsT0FBUSxTQUFDQyxHQUFELE9BQ0p4RixFQUFBQyxRQUFBQyxjQUFBLFFBQU1DLFVBQW1CLEdBQVJxRixFQUFZLFlBQWNDLFNBQVNELEdBQVEsRUFBSSxhQUFlLFdBQS9FcEYsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLE1BQTRGaUYsSUFFaEdKLElBQUssY0FDTHRHLFFBQVEsR0FDVCxDQUNDMkIsTUFBTyxPQUNQNkUsVUFBVyxtQkFDWEYsSUFBSyxZQUNMdEcsUUFBUSxHQUNULENBQ0MyQixNQUFPLE9BQ1A2RSxVQUFXLGFBQ1hGLElBQUssYUFDTHRHLFFBQVEsR0FDVCxDQUNDMkIsTUFBTyxTQUNQNkUsVUFBVyxlQUNYRixJQUFLLGVBQ0x0RyxRQUFRLEdBQ1QsQ0FDQzJCLE1BQU8sS0FDUDJFLElBQUssU0FDTEcsT0FBUSxTQUFDRyxHQUNMLE9BQU8xRixFQUFBQyxRQUFBQyxjQUFBLEtBQUd5RixLQUFLLGVBQWU5RSxRQUFTLFdBQy9CLE9BQU9qQixVQUFRcUMsS0FBUUksRUFBTTFDLFNBQXRCLDBCQUF3RCtGLEVBQU9uQixHQUEvRCxNQURSbkUsU0FBQSxDQUFBQyxTQUFBQyxFQUFBQyxXQUFBLGtCQU1mOEIsRUFBTWpCLG1CQUNOaUUsRUFBT2hDLFFBQVVnQyxFQUFPaEMsUUFBUXVDLE9BQU8sU0FBQXBJLEdBQ25DLE1BQW1CLFNBQVpBLEVBQUVpRCxTQUdiNEIsRUFBTWhCLG9CQUNOZ0UsRUFBT2hDLFFBQVVnQyxFQUFPaEMsUUFBUXVDLE9BQU8sU0FBQXBJLEdBQ25DLE1BQW1CLFVBQVpBLEVBQUVpRCxTQUdiNEIsRUFBTWYsV0FDTitELEVBQU9oQyxRQUFRd0MsT0FBTyxFQUFHLEVBQUcsQ0FDeEJwRixNQUFPLEtBQ1A2RSxVQUFXLGFBQ1hGLElBQUssYUFDTHRHLFFBQVEsSUFHaEI5QixLQUFLaUIsU0FBUyxDQUNWa0QsS0FBTXlDLEVBQ05MLFlBQWE4QiwwQ0FxQlIsSUFFTFMsRUFBYSxDQUNiakMsS0FGVzdHLEtBQUt5QixNQUFkMEMsS0FFUzBDLEtBQ1h4RCxTQUFVLE9BQ1ZnRCxRQUFTLENBQ0w1QyxNQUFPLENBQUMsT0FBUSxRQUFTLE1BQU8sTUFBTyxRQUFTLE9BQVEsT0FBUSxPQUFRLFVBQ3hFMkUsSUFBSyxDQUFDLE9BQVEsY0FBZSxXQUFZLGVBQWdCLHFCQUFzQixjQUFlLG1CQUFvQixhQUFjLGtCQUd4SVcsWUFBVUMsY0FBY0Ysb0NBR25CLElBQUFHLEVBQUFqSixLQUFBa0osRUFDdUJsSixLQUFLeUIsTUFBM0IwQyxFQUREK0UsRUFDQy9FLEtBQU1vQyxFQURQMkMsRUFDTzNDLFlBQ04zQyxFQUFhNUQsS0FBS3FGLE1BQWxCekIsU0FDQXlDLEVBQVVFLEdBQWVBLEVBQVlGLFFBQVFVLElBQUksU0FBQ29DLEVBQUtqRCxHQUFOLE9BQUFOLEVBQUEsR0FDaER1RCxFQURnRCxDQUVuREMsTUFBTyxTQUNQQyxhQUFjLFNBQUFDLEdBQUEsTUFBVyxDQUNyQi9ELE1BQU8rRCxFQUFPL0QsTUFDZEQsU0FBVTJELEVBQUtoRCxhQUFhQyxTQUdwQyxPQUNJbEQsRUFBQUMsUUFBQUMsY0FBQXFHLEVBQUF0RyxRQUFBLENBQ0l1RyxVQUFBLEVBQ0ExRCxXQUFZOUYsS0FBSzhGLFdBQ2pCTyxRQUFTQSxFQUNUb0QsV0FBWXRGLEVBQUswQyxLQUNqQmpGLFdBQVksQ0FDUjhILFNBQVUsU0FDVjFGLEtBQU0sUUFDTjJGLGVBQWdCeEYsRUFBS25DLEtBQ3JCNEgsU0FBVSxHQUNWQyxNQUFPLEdBQUsxRixFQUFLMkMsVUFFckJsRCxTQUFVQSxFQVpkUixTQUFBLENBQUFDLFNBQUFDLEVBQUFDLFdBQUEsMEJBa0JHc0Msc0ZDck9Ga0QsWUFBWSxDQXlCckJDLGNBQWUsU0FBVWMsR0FDckIsSUFTd0IxQixFQVRwQnZCLEVBQU9pRCxFQUFBLEtBQ1BDLE9BQXdDLElBQXJCRCxFQUFBLFdBQTBDQSxFQUFBLFVBQzdEekcsR0FBWXlHLEVBQUEsVUFBbUIsY0FBZ0IsT0FDL0N6RCxFQUFVeUQsRUFBQSxTQUFrQixDQUN4QnJHLE1BQU8sR0FDUDJFLElBQUssR0FDTDRCLGVBQVdsRixHQUdmbUYsRUFBTSxHQUFJQyxFQUFNLEdBRXBCLEdBSElILE9BQWlDLElBQWRBLEdBQW1DQSxFQUczQyxDQUVYLEdBQUkxRCxFQUFRNUMsTUFBTTBHLE9BQ2Q5RCxFQUFRNUMsTUFBTXNELElBQUksU0FBVXFELEdBQ3hCSCxHQUFPRyxFQUFJLFdBSWYsSUFBS2hDLEtBQU92QixFQUFLLEdBQUlvRCxHQUFPN0IsRUFBTSxJQUV0QzZCLEVBQU1BLEVBQUlJLE1BQU0sR0FBSSxHQUNwQkgsR0FBT0QsRUFBTSxPQUdqQnBELEVBQUtFLElBQUksU0FBVXFELEdBR2YsR0FGQUgsRUFBTSxHQUVGNUQsRUFBUStCLElBQUkrQixPQUNaOUQsRUFBUStCLElBQUlyQixJQUFJLFNBQVV1RCxHQUN0QkwsR0FBTyxLQUFvQyxtQkFBdEI1RCxFQUFRMkQsV0FBMkIzRCxFQUFRMkQsVUFBVU0sRUFBR0YsRUFBRUUsS0FBY0YsRUFBRUUsSUFBTSxZQUd6RyxJQUFLbEMsS0FBT2dDLEVBQ1JILEdBQU8sS0FBb0MsbUJBQXRCNUQsRUFBUTJELFdBQTJCM0QsRUFBUTJELFVBQVU1QixFQUFLZ0MsRUFBRWhDLEtBQWtCZ0MsRUFBRWhDLElBQVEsS0FHckg2QixFQUFJSSxNQUFNLEVBQUdKLEVBQUlFLE9BQVMsR0FDMUJELEdBQU9ELEVBQU0sU0FFWkMsR0FDTGxLLEtBQUt1SyxPQUFPbEgsRUFBVTZHLElBRTFCSyxPQUFRLFNBQVVsSCxFQUFVbUgsR0FDeEIsSUFBSUMsRUFBS3pLLEtBQUswSyxVQUNkLElBQUtELEVBQUEsT0FBZUEsRUFBQSxHQUFVLENBQzFCLElBQUlFLEVBQVFDLFNBQVMxSCxjQUFjLEtBQ25DeUgsRUFBTXBELEdBQUssZ0JBQ1hvRCxFQUFNaEMsS0FBTzNJLEtBQUs2SyxlQUFlTCxHQUNqQ0ksU0FBU0UsS0FBS0MsWUFBWUosR0FDMUIsSUFBSUssRUFBVUosU0FBU0ssZUFBZSxpQkFDdENELEVBQVFFLGFBQWEsV0FBWTdILEdBQ2pDMkgsRUFBUUcsUUFDUlAsU0FBU0UsS0FBS00sWUFBWUosS0FHbENILGVBQWdCLFNBQVVMLEdBRXRCLEdBQUlhLE9BQU9DLE1BQVFELE9BQU9FLEtBQU9GLE9BQU9FLElBQUlDLGdCQUFpQixDQUNyRGhCLEVBQVUsSUFBSWMsS0FBSyxDQUZoQixTQUV3QmQsR0FBVSxDQUNyQzlHLEtBQU0sYUFFVixPQUFPNkgsSUFBSUMsZ0JBQWdCaEIsS0FJbkNFLFFBQVMsV0FDTCxJQUVJZSxFQUZBQyxFQUFNLEdBQ05DLEVBQUtDLFVBQVVDLFVBQVVDLGNBUTdCLE9BTkNMLEdBQTZCLElBQXpCRSxFQUFHSSxRQUFRLFFBQWtCTCxFQUFJTSxLQUFPLE9BQVNMLEVBQUdNLE1BQU0sNkJBQStCUCxFQUFJUSxHQUFLVCxFQUFFLElBQ3BHQSxFQUFJRSxFQUFHTSxNQUFNLGtCQUFvQlAsRUFBSVEsR0FBS1QsRUFBRSxJQUN4Q0EsRUFBSUUsRUFBR00sTUFBTSxzQkFBd0JQLEVBQUlTLFFBQVVWLEVBQUUsSUFDakRBLEVBQUlFLEVBQUdNLE1BQU0scUJBQXVCUCxFQUFJVSxPQUFTWCxFQUFFLElBQy9DQSxFQUFJRSxFQUFHTSxNQUFNLG1CQUFxQlAsRUFBSVcsTUFBUVosRUFBRSxJQUM1Q0EsRUFBSUUsRUFBR00sTUFBTSxnQ0FBZ0NQLEVBQUlZLE9BQVNiLEVBQUUsSUFDMUVDLElBSUZhLGlCQUFpQixTQUFDQyxHQUMzQixPQUFPQyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFVSCwyQkMxR3JDLElBQUFqSSxFQUFjNUUsRUFBUSxNQUV0QixpQkFBQTRFLE1BQUEsRUFBNENDLEVBQUFDLEVBQVNGLEVBQUEsTUFPckQsSUFBQUcsRUFBQSxDQUFlQyxLQUFBLEVBRWZDLGVBUEFBLEVBUUFDLGdCQUFBQyxHQUVhbkYsRUFBUSxHQUFSQSxDQUE4RDRFLEVBQUFHLEdBRTNFSCxFQUFBUSxTQUFBUCxFQUFBUSxRQUFBVCxFQUFBUSwrQkNqQkFQLEVBQUFRLFFBQTJCckYsRUFBUSxHQUFSQSxFQUEwRCxJQUtyRnNGLEtBQUEsQ0FBY1QsRUFBQUMsRUFBUyxnakVBQThpRSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vaW5kZXguc2Nzcyc7XG5pbXBvcnQgVGFibGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9UYWJsZS9zdHVkZW50VGFibGUnO1xuaW1wb3J0IHsgZ2V0U3R1ZGVudHMgfSBmcm9tICcuLi8uLi91dGlscy91cmxNYXAnO1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi4vLi4vdXRpbHMvaGlzdG9yeSc7XG5pbXBvcnQgeyBUb29sdGlwLCBTcGluIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgeyBnZXRUaXBUZXh0LCBpc09iamVjdEVtcHR5IH0gIGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHVkZW50TWFuYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0dWRlbnRzOiBudWxsLFxuICAgICAgICAgICAgc2VhcmNoX3RleHQ6ICcnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5nZXREYXRhKCk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5lbnRlclNlYXJjaCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuZW50ZXJTZWFyY2gpO1xuICAgIH1cblxuICAgIGVudGVyU2VhcmNoID0gZSA9PiB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RGF0YSA9IChwYXJhbXMpID0+IHtcbiAgICAgICAgZ2V0U3R1ZGVudHMocGFyYW1zKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHN0dWRlbnRzOiByZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc3R1ZGVudHM6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhhbmRsZUlucHV0Q2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzZWFyY2hfdGV4dDogZS50YXJnZXQudmFsdWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzZWFyY2ggPSAoKSA9PiB7XG4gICAgICAgIGxldCB7IHNlYXJjaF90ZXh0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLmdldERhdGEoe25hbWU6IHNlYXJjaF90ZXh0fSk7XG4gICAgfVxuXG4gICAgdGFibGVDaGFuZ2UgPSAocGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyKSA9PiB7XG4gICAgICAgIGxldCBwYXJhbSA9IHtwYWdlOiBwYWdpbmF0aW9uLmN1cnJlbnR9O1xuICAgICAgICBsZXQgaXNFbXB0eSA9IGlzT2JqZWN0RW1wdHkoc29ydGVyKTtcbiAgICAgICAgaWYgKCFpc0VtcHR5ICYmIHNvcnRlci5vcmRlciA9PT0gJ2Rlc2NlbmQnKSB7XG4gICAgICAgICAgICBwYXJhbS5vcmRlcmluZyA9ICctJyArIHNvcnRlci5maWVsZDtcbiAgICAgICAgfSBlbHNlIGlmKCFpc0VtcHR5ICYmIHNvcnRlci5vcmRlciA9PT0gJ2FzY2VuZCcpIHtcbiAgICAgICAgICAgIHBhcmFtLm9yZGVyaW5nID0gc29ydGVyLmZpZWxkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0RGF0YShwYXJhbSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgeyBzdHVkZW50cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgbGV0IHBhdGhuYW1lID0gaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgbGV0IHRpcFRleHQgPSBnZXRUaXBUZXh0KCc0Jyk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdHVkZW50bWFuYWdlJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncy10aXRsZSc+5a2m55Sf566h55CGPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Mtc2VhcmNoIGJveCc+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3MtbmFtZSc+5a2m55Sf5YiX6KGoPFRvb2x0aXAgdGl0bGU9e3RpcFRleHR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdoaW50Jz4/PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3NzLXJpZ2h0Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT0nc3NyLWlucHV0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSfor7fovpPlhaXlrabnlJ/lp5PlkI0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2V9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3NyLWJ0bicgb25DbGljaz17dGhpcy5zZWFyY2h9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPSdzc3JiLWljb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rSHJlZj0nI3NlYXJjaCc+PC91c2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzc3JiLXRleHQnPuaQnDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3NzcmItdGV4dCc+57SiPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JveCBzLXRhYmxlJz5cbiAgICAgICAgICAgICAgICAgICAgPFNwaW4gc2l6ZT0nbGFyZ2UnIHNwaW5uaW5nPXtzdHVkZW50cyA/IGZhbHNlIDogdHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUgbGlzdD17c3R1ZGVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU9e3BhdGhuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJhbmtDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3JyZWN0UmFua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTcXVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRhYmxlQ2hhbmdlfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NwaW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn1cbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2luZGV4LnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vaW5kZXguc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI2NvbXBvbmVudHMtdGFibGUtZGVtby1yZXNpemFibGUtY29sdW1uIC5yZWFjdC1yZXNpemFibGUge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuXFxuI2NvbXBvbmVudHMtdGFibGUtZGVtby1yZXNpemFibGUtY29sdW1uIC5yZWFjdC1yZXNpemFibGUtaGFuZGxlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAuNjl2dztcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJvdHRvbTogMDtcXG4gIHJpZ2h0OiAtLjM1dnc7XFxuICBjdXJzb3I6IGNvbC1yZXNpemU7IH1cXG5cXG4uZmlyc3RDZWxsIHtcXG4gIGNvbG9yOiAjNjY2OyB9XFxuXFxuLnRhYmxlR3JheSB7XFxuICBjb2xvcjogIzk5OTsgfVxcblxcbi50YWJsZUdyZWVuIHtcXG4gIGNvbG9yOiAjMDBENEJDOyB9XFxuXFxuLnRhYmxlUmVkIHtcXG4gIGNvbG9yOiAjRjEzQTMwOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgeyBSZXNpemFibGUgfSBmcm9tICdyZWFjdC1yZXNpemFibGUnO1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnO1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi4vLi4vdXRpbHMvaGlzdG9yeSc7XG5pbXBvcnQgeyBnZXRGb3JtYXRlRGF0ZSwgc2Vjb25kczJ0aW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBKU29uVG9DU1YgfSBmcm9tICcuLi8uLi91dGlscy9Kc29uVG9DU1YnO1xuXG5jb25zdCBSZXNpemVhYmxlVGl0bGUgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IG9uUmVzaXplLCB3aWR0aCwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcztcblxuICAgIGlmICghd2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIDx0aCB7Li4ucmVzdFByb3BzfSAvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8UmVzaXphYmxlIHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXswfSBvblJlc2l6ZT17b25SZXNpemV9PlxuICAgICAgICAgICAgPHRoIHsuLi5yZXN0UHJvcHN9IC8+XG4gICAgICAgIDwvUmVzaXphYmxlPlxuICAgICk7XG59O1xuXG5jbGFzcyBDdXN0b21UYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbGlzdDogW10sXG4gICAgICAgICAgICBwYXRobmFtZTogJycsXG4gICAgICAgICAgICBoZWFkZXJzdGF0ZTogbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0TGlzdCh0aGlzLnByb3BzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldExpc3QobmV4dFByb3BzKTtcbiAgICB9XG5cbiAgICBzZXRMaXN0KHByb3BzKSB7XG4gICAgICAgIGxldCBsaXN0ID0gcHJvcHMubGlzdDtcbiAgICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcHMuZXhwb3J0U3R1ZGVudExpc3QpIHtcbiAgICAgICAgICAgIHByb3BzLmV4cG9ydFN0dWRlbnRMaXN0KHNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld0xpc3QgPSB7XG4gICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IGxpc3QucGFnZSxcbiAgICAgICAgICAgIHBhZ2VfbnVtOiBsaXN0LnBhZ2VfbnVtXG4gICAgICAgIH1cbiAgICAgICAgbmV3TGlzdC5kYXRhID0gbGlzdC5kYXRhLm1hcChlID0+IHtcbiAgICAgICAgICAgIGxldCBhY2N1cmFjeSA9IGUucXVlc3Rpb25fbnVtID09PSAwID8gJzAlJyA6IChlLmNvcnJlY3RfcXVlc3Rpb25fbnVtIC8gZS5xdWVzdGlvbl9udW0gKiAxMDApLnRvRml4ZWQoMCkgKyAnJSc7XG4gICAgICAgICAgICBsZXQgZmluaXNoX3JhdGUgPSAwO1xuICAgICAgICAgICAgaWYgKGUudG90YWxfaG9tZXdvcmtfbnVtKSB7XG4gICAgICAgICAgICAgICAgZmluaXNoX3JhdGUgPSBlLnRvdGFsX2hvbWV3b3JrX251bSA9PT0gMCA/ICcwJScgOiAoZS5maW5pc2hlZF9udW0gLyBlLnRvdGFsX2hvbWV3b3JrX251bSAqIDEwMCkudG9GaXhlZCgwKSArICclJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluaXNoX3JhdGUgPSBlLnF1ZXN0aW9uX251bSA9PT0gMCA/ICcwJScgOiAoZS5maW5pc2hlZF9udW0gLyBlLnF1ZXN0aW9uX251bSAqIDEwMCkudG9GaXhlZCgwKSArICclJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGUuc3R1ZGVudC5pZCA/IGUuc3R1ZGVudC5pZCA6IGUuc3R1ZGVudC5zdHVkZW50X2lkID8gZS5zdHVkZW50LnN0dWRlbnRfaWQgOiAnJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBlLnN0dWRlbnQubmFtZSxcbiAgICAgICAgICAgICAgICBwaG9uZTogZS5waG9uZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hfcmF0ZTogZmluaXNoX3JhdGUsXG4gICAgICAgICAgICAgICAgYWNjdXJhY3k6IGFjY3VyYWN5LFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uX251bTogZS5xdWVzdGlvbl9udW0sXG4gICAgICAgICAgICAgICAgY29ycmVjdF9wcm9iX2luZGV4OiBlLmNvcnJlY3RfcHJvYl9pbmRleCxcbiAgICAgICAgICAgICAgICByYWlzZV92YWx1ZTogZS5yYWlzZV92YWx1ZSxcbiAgICAgICAgICAgICAgICBkb19xdWVzdGlvbl90aW1lOiBzZWNvbmRzMnRpbWUoZS5kb19xdWVzdGlvbl90aW1lKSxcbiAgICAgICAgICAgICAgICB0ZWFjaF90aW1lOiBzZWNvbmRzMnRpbWUoZS50ZWFjaF90aW1lKSxcbiAgICAgICAgICAgICAgICBsYXN0X2xlYXJuZWQ6IGUubGFzdF9sZWFybmVkID8gZ2V0Rm9ybWF0ZURhdGUoZS5sYXN0X2xlYXJuZWQgKiAxMDAwKSA6ICfml6AnLFxuICAgICAgICAgICAgICAgIHNxdWFkX25hbWU6IGUuc3R1ZGVudCA/IGUuc3R1ZGVudC5zcXVhZC5uYW1lIDogJycsXG4gICAgICAgICAgICAgICAga2V5OiBlLnN0dWRlbnQuaWQgPyBlLnN0dWRlbnQuaWQgOiBlLnN0dWRlbnQuc3R1ZGVudF9pZCA/IGUuc3R1ZGVudC5zdHVkZW50X2lkIDogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgaHNEYXRhID0ge1xuICAgICAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WtpueUn+WQjeensCcsXG4gICAgICAgICAgICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgICAgICAgICAgICAgcmVuZGVyOiB0ZXh0ID0+ICg8c3BhbiBjbGFzc05hbWU9J2ZpcnN0Q2VsbCc+e3RleHR9PC9zcGFuPiksXG4gICAgICAgICAgICAgICAga2V5OiAnbmFtZScsXG4gICAgICAgICAgICAgICAgc29ydGVyOiB0cnVlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfmiYvmnLrlj7cnLFxuICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ3Bob25lJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdwaG9uZScsXG4gICAgICAgICAgICAgICAgc29ydGVyOiB0cnVlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfkvZzkuJrlrozmiJDnjocnLFxuICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ2ZpbmlzaF9yYXRlJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdmaW5pc2hfcmF0ZScsXG4gICAgICAgICAgICAgICAgc29ydGVyOiB0cnVlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfmraPnoa7njocnLFxuICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ2FjY3VyYWN5JyxcbiAgICAgICAgICAgICAgICBrZXk6ICdhY2N1cmFjeScsXG4gICAgICAgICAgICAgICAgc29ydGVyOiB0cnVlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICflgZrpopjmlbAnLFxuICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ3F1ZXN0aW9uX251bScsXG4gICAgICAgICAgICAgICAga2V5OiAncXVlc3Rpb25fbnVtJyxcbiAgICAgICAgICAgICAgICBzb3J0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+ato+ehrueOh+aOkuWQjScsXG4gICAgICAgICAgICAgICAgZGF0YUluZGV4OiAnY29ycmVjdF9wcm9iX2luZGV4JyxcbiAgICAgICAgICAgICAgICBrZXk6ICdjb3JyZWN0X3Byb2JfaW5kZXgnLFxuICAgICAgICAgICAgICAgIHNvcnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5o6S5ZCN5Y+Y5YyWJyxcbiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdyYWlzZV92YWx1ZScsXG4gICAgICAgICAgICAgICAgcmVuZGVyOiAodGV4dCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHQgPT0gMCA/ICd0YWJsZUdyYXknIDogcGFyc2VJbnQodGV4dCkgPiAwID8gJ3RhYmxlR3JlZW4nIDogJ3RhYmxlUmVkJ30+e3RleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAga2V5OiAncmFpc2VfdmFsdWUnLFxuICAgICAgICAgICAgICAgIHNvcnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5YGa6aKY5pe26ZW/JyxcbiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdkb19xdWVzdGlvbl90aW1lJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdkYXRhSW5kZXgnLFxuICAgICAgICAgICAgICAgIHNvcnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5a2m5Lmg5pe26ZW/JyxcbiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICd0ZWFjaF90aW1lJyxcbiAgICAgICAgICAgICAgICBrZXk6ICd0ZWFjaF90aW1lJyxcbiAgICAgICAgICAgICAgICBzb3J0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+S4iuasoeWtpuS5oOaXtumXtCcsXG4gICAgICAgICAgICAgICAgZGF0YUluZGV4OiAnbGFzdF9sZWFybmVkJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdsYXN0X2xlYXJuZWQnLFxuICAgICAgICAgICAgICAgIHNvcnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pON5L2cJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICAgICAgICAgIHJlbmRlcjogKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGlzdG9yeS5wdXNoKGAke3Byb3BzLnBhdGhuYW1lfVN0dWRlbnRTdGF0L3N0dWRlbnRfaWQ9JHtyZWNvcmQuaWR9L2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0+5p+l55yL6K+m5oOFPC9hPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwcm9wcy5kZWxldGVSYW5rQ2hhbmdlKSB7XG4gICAgICAgICAgICBoc0RhdGEuY29sdW1ucyA9IGhzRGF0YS5jb2x1bW5zLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS50aXRsZSAhPT0gJ+aOkuWQjeWPmOWMlidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLmRlbGV0ZUNvcnJlY3RSYW5rKSB7XG4gICAgICAgICAgICBoc0RhdGEuY29sdW1ucyA9IGhzRGF0YS5jb2x1bW5zLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS50aXRsZSAhPT0gJ+ato+ehrueOh+aOkuWQjSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnNob3dTcXVhZCkge1xuICAgICAgICAgICAgaHNEYXRhLmNvbHVtbnMuc3BsaWNlKDEsIDAsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+ePree6pycsXG4gICAgICAgICAgICAgICAgZGF0YUluZGV4OiAnc3F1YWRfbmFtZScsXG4gICAgICAgICAgICAgICAga2V5OiAnc3F1YWRfbmFtZScsXG4gICAgICAgICAgICAgICAgc29ydGVyOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGlzdDogbmV3TGlzdCxcbiAgICAgICAgICAgIGhlYWRlcnN0YXRlOiBoc0RhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50cyA9IHtcbiAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICBjZWxsOiBSZXNpemVhYmxlVGl0bGUsXG4gICAgICAgIH0sXG4gICAgfVxuXG4gICAgaGFuZGxlUmVzaXplID0gaW5kZXggPT4gKGUsIHsgc2l6ZSB9KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHsgY29sdW1ucyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRDb2x1bW5zID0gWy4uLmNvbHVtbnNdO1xuICAgICAgICBuZXh0Q29sdW1uc1tpbmRleF0gPSB7XG4gICAgICAgICAgICAuLi5uZXh0Q29sdW1uc1tpbmRleF0sXG4gICAgICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgY29sdW1uczogbmV4dENvbHVtbnMgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGV4cG9ydExpc3QoKSB7XG4gICAgICAgIGxldCB7IGxpc3QgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGxldCB0YWJsZV9pbmZvID0ge1xuICAgICAgICAgICAgZGF0YTogbGlzdC5kYXRhLFxuICAgICAgICAgICAgZmlsZU5hbWU6ICflrabnlJ/liJfooagnLFxuICAgICAgICAgICAgY29sdW1uczoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBbJ+WtpueUn+WQjeensCcsICfkvZzkuJrlrozmiJDnjocnLCAn5q2j56Gu546HJywgJ+WBmumimOaVsCcsICfmraPnoa7njofmjpLlkI0nLCAn5o6S5ZCN5Y+Y5YyWJywgJ+WBmumimOaXtumVvycsICflrabkuaDml7bplb8nLCAn5LiK5qyh5a2m5Lmg5pe26Ze0J10sXG4gICAgICAgICAgICAgICAga2V5OiBbJ25hbWUnLCAnZmluaXNoX3JhdGUnLCAnYWNjdXJhY3knLCAncXVlc3Rpb25fbnVtJywgJ2NvcnJlY3RfcHJvYl9pbmRleCcsICdyYWlzZV92YWx1ZScsICdkb19xdWVzdGlvbl90aW1lJywgJ3RlYWNoX3RpbWUnLCAnbGFzdF9sZWFybmVkJ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBKU29uVG9DU1Yuc2V0RGF0YUNvbnZlcih0YWJsZV9pbmZvKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB7IGxpc3QsIGhlYWRlcnN0YXRlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBsZXQgeyBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IGhlYWRlcnN0YXRlICYmIGhlYWRlcnN0YXRlLmNvbHVtbnMubWFwKChjb2wsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgLi4uY29sLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgb25IZWFkZXJDZWxsOiBjb2x1bW4gPT4gKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogY29sdW1uLndpZHRoLFxuICAgICAgICAgICAgICAgIG9uUmVzaXplOiB0aGlzLmhhbmRsZVJlc2l6ZShpbmRleCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRhYmxlXG4gICAgICAgICAgICAgICAgYm9yZGVyZWRcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzPXt0aGlzLmNvbXBvbmVudHN9XG4gICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICBkYXRhU291cmNlPXtsaXN0LmRhdGF9XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbj17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDdXJyZW50OiBsaXN0LnBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxNSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IDE1ICogbGlzdC5wYWdlX251bVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbVRhYmxlO1xuIiwiZXhwb3J0IGNvbnN0IEpTb25Ub0NTViA9IHtcclxuICAgIC8qXHJcbiAgICAgKiBvYmrmmK/kuIDkuKrlr7nosaHvvIzlhbbkuK3ljIXlkKvmnInvvJpcclxuICAgICAqICMjIGRhdGEg5piv5a+85Ye655qE5YW35L2T5pWw5o2uXHJcbiAgICAgKiAjIyBmaWxlTmFtZSDmmK/lr7zlh7rml7bkv53lrZjnmoTmlofku7blkI3np7Ag5pivc3RyaW5n5qC85byPXHJcbiAgICAgKiAjIyBzaG93TGFiZWwg6KGo56S65piv5ZCm5pi+56S66KGo5aS0IOm7mOiupOaYvuekuiDmmK/luIPlsJTmoLzlvI9cclxuICAgICAqICMjIGNvbHVtbnMg5piv6KGo5aS05a+56LGh77yM5LiUdGl0bGXlkoxrZXnlv4XpobvkuIDkuIDlr7nlupTvvIzljIXlkKvmnIlcclxuICAgICAgICAgIHRpdGxlOltdLCAvLyDooajlpLTlsZXnpLrnmoTmloflrZdcclxuICAgICAgICAgIGtleTpbXSwgLy8g6I635Y+W5pWw5o2u55qES2V5XHJcbiAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKCkgLy8g6Ieq5a6a5LmJ6K6+572u5b2T5YmN5pWw5o2u55qEIOS8oOWFpShrZXksIHZhbHVlKVxyXG4gICAgKiAjIyDkvb/nlKjnpLrkvotcclxuICAgICAgcmVxdWVzdC5kaWZmU3RhdCgpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdGFibGVfZGF0YSA9IHRoaXMuY29tcGlsZVN1YnNlY3Rpb25EYXRhKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgIHZhciB0YWJsZV9pbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVfZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiAn5bCP6IqC6aKY55uu5pWw55uu57uf6K6hJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogWyfkuablkI0nLCAn56ugJywgJ+iKgicsICflsI/oioInLCAn5oC76aKY5pWwJywgJ+acquagh+azqCcsICfnroDljZXpopgnLCAn5Lit562J6aKYJywgJ+mavumimCddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogWydib29rJywgJ2NoYXB0ZXInLCAnc2VjdGlvbicsICdzdWJzZWN0aW9uJywgJ3RvdGFsX251bScsICdub25lJywgJ3NpbXBsZScsICdtaWRkbGUnLCAnZGlmZmljdWx0eSddXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgSlNvblRvQ1NWLnNldERhdGFDb252ZXIodGFibGVfaW5mbyk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAqL1xyXG4gICAgc2V0RGF0YUNvbnZlcjogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHZhciBkYXRhID0gb2JqWydkYXRhJ10sXHJcbiAgICAgICAgICAgIFNob3dMYWJlbCA9IHR5cGVvZiBvYmpbJ3Nob3dMYWJlbCddID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvYmpbJ3Nob3dMYWJlbCddLFxyXG4gICAgICAgICAgICBmaWxlTmFtZSA9IChvYmpbJ2ZpbGVOYW1lJ10gfHwgJ1VzZXJFeHBvcnQnKSArICcuY3N2JyxcclxuICAgICAgICAgICAgY29sdW1ucyA9IG9ialsnY29sdW1ucyddIHx8IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBbXSxcclxuICAgICAgICAgICAgICAgIGtleTogW10sXHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHZhciBTaG93TGFiZWwgPSB0eXBlb2YgU2hvd0xhYmVsID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBTaG93TGFiZWw7XHJcbiAgICAgICAgdmFyIHJvdyA9IFwiXCIsIENTViA9ICcnLCBrZXk7XHJcbiAgICAgICAgLy8g5aaC5p6c6KaB546w5a6e6KGo5aS05paH5a2XXHJcbiAgICAgICAgaWYgKFNob3dMYWJlbCkge1xyXG4gICAgICAgICAgICAvLyDlpoLmnpzmnInkvKDlhaXoh6rlrprkuYnnmoTooajlpLTmloflrZdcclxuICAgICAgICAgICAgaWYgKGNvbHVtbnMudGl0bGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnRpdGxlLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdyArPSBuICsgJywnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmsqHmnInvvIzlsLHnm7TmjqXlj5bmlbDmja7nrKzkuIDmnaHnmoTlr7nosaHnmoTlsZ7mgKdcclxuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGRhdGFbMF0pIHJvdyArPSBrZXkgKyAnLCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm93ID0gcm93LnNsaWNlKDAsIC0xKTsgLy8g5Yig6Zmk5pyA5ZCO5LiA5LiqLOWPt++8jOWNs2EsYiwgPT4gYSxiXHJcbiAgICAgICAgICAgIENTViArPSByb3cgKyAnXFxyXFxuJzsgLy8g5re75Yqg5o2i6KGM56ym5Y+3XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWFt+S9k+eahOaVsOaNruWkhOeQhlxyXG4gICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgIHJvdyA9ICcnO1xyXG4gICAgICAgICAgICAvLyDlpoLmnpzlrZjlnKjoh6rlrprkuYlrZXnlgLxcclxuICAgICAgICAgICAgaWYgKGNvbHVtbnMua2V5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucy5rZXkubWFwKGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93ICs9ICdcIicgKyAodHlwZW9mIGNvbHVtbnMuZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nID8gY29sdW1ucy5mb3JtYXR0ZXIobSwgblttXSkgfHwgblttXSA6IG5bbV0pICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIG4pIHtcclxuICAgICAgICAgICAgICAgICAgICByb3cgKz0gJ1wiJyArICh0eXBlb2YgY29sdW1ucy5mb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicgPyBjb2x1bW5zLmZvcm1hdHRlcihrZXksIG5ba2V5XSkgfHwgbltrZXldIDogbltrZXldKSArICdcIiwnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvdy5zbGljZSgwLCByb3cubGVuZ3RoIC0gMSk7IC8vIOWIoOmZpOacgOWQjuS4gOS4qixcclxuICAgICAgICAgICAgQ1NWICs9IHJvdyArICdcXHJcXG4nOyAvLyDmt7vliqDmjaLooYznrKblj7dcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIUNTVikgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuU2F2ZUFzKGZpbGVOYW1lLCBDU1YpO1xyXG4gICAgfSxcclxuICAgIFNhdmVBczogZnVuY3Rpb24gKGZpbGVOYW1lLCBjc3ZEYXRhKSB7XHJcbiAgICAgICAgdmFyIGJ3ID0gdGhpcy5icm93c2VyKCk7XHJcbiAgICAgICAgaWYgKCFid1snZWRnZSddIHx8ICFid1snaWUnXSkge1xyXG4gICAgICAgICAgICB2YXIgYWxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgYWxpbmsuaWQgPSBcImxpbmtEd25sZExpbmtcIjtcclxuICAgICAgICAgICAgYWxpbmsuaHJlZiA9IHRoaXMuZ2V0RG93bmxvYWRVcmwoY3N2RGF0YSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWxpbmspO1xyXG4gICAgICAgICAgICB2YXIgbGlua0RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5rRHdubGRMaW5rJyk7XHJcbiAgICAgICAgICAgIGxpbmtEb20uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgbGlua0RvbS5jbGljaygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmtEb20pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnZXREb3dubG9hZFVybDogZnVuY3Rpb24gKGNzdkRhdGEpIHtcclxuICAgICAgICB2YXIgX3V0ZiA9IFwiXFx1RkVGRlwiOyAvLyDkuLrkuobkvb9FeGNlbOS7pXV0Zi0455qE57yW56CB5qih5byP77yM5ZCM5pe25Lmf5piv6Kej5Yaz5Lit5paH5Lmx56CB55qE6Zeu6aKYXHJcbiAgICAgICAgaWYgKHdpbmRvdy5CbG9iICYmIHdpbmRvdy5VUkwgJiYgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwpIHtcclxuICAgICAgICAgICAgdmFyIGNzdkRhdGEgPSBuZXcgQmxvYihbX3V0ZiArIGNzdkRhdGFdLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC9jc3YnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChjc3ZEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmV0dXJuICdkYXRhOmF0dGFjaG1lbnQvY3N2O2NoYXJzZXQ9dXRmLTgsJyArIF91dGYgKyBlbmNvZGVVUklDb21wb25lbnQoY3N2RGF0YSk7XHJcbiAgICB9LFxyXG4gICAgYnJvd3NlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBTeXMgPSB7fTtcclxuICAgICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgdmFyIHM7XHJcbiAgICAgICAgKHMgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0gMSA/IFN5cy5lZGdlID0gJ2VkZ2UnIDogdWEubWF0Y2goL3J2OihbXFxkLl0rKVxcKSBsaWtlIGdlY2tvLykpID8gU3lzLmllID0gc1sxXSA6XHJcbiAgICAgICAgICAgIChzID0gdWEubWF0Y2goL21zaWUgKFtcXGQuXSspLykpID8gU3lzLmllID0gc1sxXSA6XHJcbiAgICAgICAgICAgICAgICAocyA9IHVhLm1hdGNoKC9maXJlZm94XFwvKFtcXGQuXSspLykpID8gU3lzLmZpcmVmb3ggPSBzWzFdIDpcclxuICAgICAgICAgICAgICAgICAgICAocyA9IHVhLm1hdGNoKC9jaHJvbWVcXC8oW1xcZC5dKykvKSkgPyBTeXMuY2hyb21lID0gc1sxXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzID0gdWEubWF0Y2goL29wZXJhLihbXFxkLl0rKS8pKSA/IFN5cy5vcGVyYSA9IHNbMV0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHMgPSB1YS5tYXRjaCgvdmVyc2lvblxcLyhbXFxkLl0rKS4qc2FmYXJpLykpID8gU3lzLnNhZmFyaSA9IHNbMV0gOiAwO1xyXG4gICAgICAgIHJldHVybiBTeXM7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVlcENvcHlPYmplY3QgPSAoc291cmNlKSA9PiB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzb3VyY2UpKTtcclxufSIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2luZGV4LnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vaW5kZXguc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnN0dWRlbnRtYW5hZ2Uge1xcbiAgYmFja2dyb3VuZDogI2ZhZmFmYTtcXG4gIHBhZGRpbmc6IDAgMi4wOHZ3O1xcbiAgcGFkZGluZy1ib3R0b206IDguNHZ3OyB9XFxuICAuc3R1ZGVudG1hbmFnZSAucy10aXRsZSB7XFxuICAgIHBhZGRpbmc6IDEuMzl2dyAwO1xcbiAgICBmb250LXNpemU6IDEuMjV2dztcXG4gICAgY29sb3I6ICM5OTk7IH1cXG4gIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcGFkZGluZzogMCAyLjA4dnc7XFxuICAgIGhlaWdodDogNS41NnZ3O1xcbiAgICBtYXJnaW4tYm90dG9tOiAxLjM5dnc7IH1cXG4gICAgLnN0dWRlbnRtYW5hZ2UgLnMtc2VhcmNoIC5zcy1uYW1lIHtcXG4gICAgICBmb250LXdlaWdodDogNTAwO1xcbiAgICAgIGZvbnQtc2l6ZTogMS4yNXZ3O1xcbiAgICAgIGNvbG9yOiAjNjY2OyB9XFxuICAgIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCAuc3MtcmlnaHQge1xcbiAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxcbiAgICAgIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCAuc3MtcmlnaHQgLnNzci1pbnB1dCB7XFxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEuMzl2dztcXG4gICAgICAgIHdpZHRoOiAxOS43OXZ3O1xcbiAgICAgICAgaGVpZ2h0OiAzLjQ3dnc7XFxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgd2hpdGVzbW9rZTtcXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XFxuICAgICAgICBwYWRkaW5nOiAwIC42OXZ3O1xcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIC4zczsgfVxcbiAgICAgIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCAuc3MtcmlnaHQgLnNzci1pbnB1dDpob3ZlciB7XFxuICAgICAgICBib3JkZXItY29sb3I6ICMwMEQ0QkM7IH1cXG4gICAgICAuc3R1ZGVudG1hbmFnZSAucy1zZWFyY2ggLnNzLXJpZ2h0IC5zc3ItYnRuIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgd2lkdGg6IDExLjExdnc7XFxuICAgICAgICBoZWlnaHQ6IDMuNDd2dztcXG4gICAgICAgIHBhZGRpbmc6IDAgMi4wOHZ3O1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgYmFja2dyb3VuZDogIzAwRDRCQztcXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAuNTtcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgICAgICAgLnN0dWRlbnRtYW5hZ2UgLnMtc2VhcmNoIC5zcy1yaWdodCAuc3NyLWJ0biAuc3NyYi1pY29uIHtcXG4gICAgICAgICAgd2lkdGg6IDEuMzJ2dztcXG4gICAgICAgICAgaGVpZ2h0OiAxLjMydnc7XFxuICAgICAgICAgIGZpbGw6ICNmZmY7XFxuICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjVzIGN1YmljLWJlemllcigwLjIsIDAuNiwgMC4zLCAxKSwgLXdlYmtpdC10cmFuc2Zvcm0gMC41cyBjdWJpYy1iZXppZXIoMC4yLCAwLjYsIDAuMywgMSk7IH1cXG4gICAgICAgIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCAuc3MtcmlnaHQgLnNzci1idG4gLnNzcmItdGV4dCB7XFxuICAgICAgICAgIGZvbnQtc2l6ZTogMS4xMXZ3O1xcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xcbiAgICAgICAgICBjb2xvcjogI2ZmZjsgfVxcbiAgICAgIC5zdHVkZW50bWFuYWdlIC5zLXNlYXJjaCAuc3MtcmlnaHQgLnNzci1idG46aG92ZXIgLnNzcmItaWNvbiB7XFxuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMikgdHJhbnNsYXRlWigwKTtcXG4gICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLjIpIHRyYW5zbGF0ZVooMCk7IH1cXG4gICAgICAuc3R1ZGVudG1hbmFnZSAucy1zZWFyY2ggLnNzLXJpZ2h0IC5zc3ItYnRuOmhvdmVyIHtcXG4gICAgICAgIGJhY2tncm91bmQ6ICMyM2UwY2E7IH1cXG4gIC5zdHVkZW50bWFuYWdlIC5zLXRhYmxlIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHBhZGRpbmc6IDIuMDh2dzsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiJdLCJzb3VyY2VSb290IjoiIn0=